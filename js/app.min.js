"use strict";function changeScrollPos(){introH=introEl.clientHeight,scrollPos=window.scrollY,checkScroll(scrollPos,introH)}function checkScroll(e,o){e>o?headerEl.classList.add("fixed"):headerEl.classList.remove("fixed")}function showMore(e,o,r,t){const l=e.querySelector(".show-more"),n=e.querySelectorAll(r).length;let a=t;l.addEventListener("click",()=>{a+=2;const r=Array.from(e.querySelector(o).children),t=r.slice(0,a);t.forEach(e=>e.classList.add("is-visible")),t.length===n&&(l.style.display="none")})}function changeURLLanguage(){let e=selectEl.value;location.href=window.location.pathname+"#"+e,location.reload()}function changeLanguage(){let e=window.location.hash;if(e=e.slice(1),!allLangs.includes(e))return location.href=window.location.pathname+"#ru",void location.reload();const o="lang.json";fetch(o).then(e=>e.json()).then(o=>{const r=o;selectEl.value=e,"en"===e?validator.setCurrentLocale("en"):validator.setCurrentLocale(),document.querySelector("title").innerText=r.unit[e],document.querySelector("html").lang=e;for(let o in r){const t=document.querySelectorAll(".lng-"+o);t&&t.forEach(t=>{t.classList.contains("form__control")&&(t.placeholder=r[o][e]),t.innerHTML=r[o][e]})}})}const headerEl=document.querySelector("#header"),introEl=document.querySelector("#intro"),navEl=document.querySelector("#nav"),burgerEl=document.querySelector("#burger"),formEl=document.querySelector("#form");let introH=introEl.clientHeight,scrollPos=window.scrollY;checkScroll(scrollPos,introH),window.addEventListener("scroll",changeScrollPos),window.addEventListener("resize",changeScrollPos);const navLinks=document.querySelectorAll("[data-scroll]");navLinks.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const r=e.dataset.scroll,t=document.getElementById(r).offsetTop;navEl.classList.remove("show"),burgerEl.classList.remove("clicked"),window.innerWidth<=414?window.scrollTo({top:t-56,behavior:"smooth"}):window.scrollTo({top:t,behavior:"smooth"})})}),burgerEl.addEventListener("click",e=>{e.preventDefault(),burgerEl.classList.toggle("clicked"),navEl.classList.toggle("show")});const element=document.getElementById("phone"),maskOptions={mask:"+{7}(000)000-00-00"},mask=IMask(element,maskOptions),validator=new JustValidate("#form",{validateBeforeSubmitting:!0},[{key:"Поле имя обязательное",dict:{en:"Name is required"}},{key:"Слишком короткое имя",dict:{en:"Name is too short"}},{key:"Слишком длинное имя",dict:{en:"Name is too long"}},{key:"Поле email обязательное",dict:{en:"Email is required"}},{key:"Email недействителен",dict:{en:"Email is invalid"}},{key:"Это поле обязательное",dict:{en:"This field is required"}},{key:"Поле должно содержать минимум 4 символов",dict:{en:"The field must contain at least 4 characters"}},{key:"Это поле может содержать только буквы",dict:{en:"This field can only contain letters"}},{key:"Поле номер телефона обязательное",dict:{en:"Phone number is required"}},{key:"Введите пожалуйста корректный номер",dict:{en:"Please enter a valid phone number"}}]);validator.addField("#name",[{rule:"required",errorMessage:"Поле имя обязательное"},{rule:"customRegexp",value:"[a-zA-Zа-яА-ЯёЁ]+",errorMessage:"Это поле может содержать только буквы"},{rule:"minLength",value:3,errorMessage:"Слишком короткое имя"},{rule:"maxLength",value:15,errorMessage:"Слишком длинное имя"}]).addField("#email",[{rule:"required",errorMessage:"Поле email обязательное"},{rule:"email",errorMessage:"Email недействителен"}]).addField("#subject",[{rule:"required",errorMessage:"Это поле обязательное"},{rule:"customRegexp",value:"[a-zA-Zа-яА-ЯёЁ]+",errorMessage:"Это поле может содержать только буквы"},{rule:"minLength",value:4,errorMessage:"Поле должно содержать минимум 4 символов"}]).addField("#phone",[{rule:"required",errorMessage:"Поле номер телефона обязательное"},{rule:"minLength",value:16,errorMessage:"Введите пожалуйста корректный номер"}]).onSuccess(async e=>{e.preventDefault();const o=document.querySelector("#form-btn");o.disabled=!0,await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:new FormData(form)}).then(e=>{console.log("Данные успешно отправлены!"),form.reset(),o.disabled=!1}).catch(e=>{throw e})}),validator.setCurrentLocale(),document.querySelectorAll(".dogs__item").forEach(e=>showMore(e,".dogs__images",".dogs__photo",1)),showMore(document.querySelector("#graduates"),".graduates__wrapper",".graduates__item",3);const allLangs=["en","ru"],selectEl=document.querySelector("select");selectEl.addEventListener("change",changeURLLanguage),window.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{document.querySelector(".preloader").style.display="none"},1e3)}),changeLanguage();const loadLater=document.querySelector(".loadLater"),head=document.querySelector("head");loadLater&&head&&head.insertAdjacentHTML("beforeend",loadLater.innerHTML);